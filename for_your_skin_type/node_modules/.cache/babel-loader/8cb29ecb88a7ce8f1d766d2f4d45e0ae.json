{"ast":null,"code":"var _jsxFileName = \"/Users/dayepark/Documents/dev/for_your_skin_type/src/components/LogInSection.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\"; // import React,{ useState, useRef, useContext } from \"react\";\n// import React,{ useState, useRef } from \"react\";\n\nimport { useNavigate } from \"react-router-dom\"; // components\n\nimport MyPage from \"../components/MyPage\"; // styling \n\nimport \"../styles/src/LogInSection.scss\"; // Context API \n\nimport { UserLoggedInContextStore } from \"../App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction LogInSection() {\n  _s();\n\n  // Context API \n  const userLoggedIn = useContext(UserLoggedInContextStore); // console.log(userLoggedIn);  // false \n  // let loggedIn = useRef(false);\n  // console.log(loggedIn.current);  // false\n  // 로그인 로직\n\n  const [userId, setUserId] = useState(\"\");\n  const [userPwLogin, setUserPwLogin] = useState(\"\");\n  const url = 'http://localhost:9090/login';\n\n  const submitToLogIn = async e => {\n    e.preventDefault();\n\n    try {\n      const response = await fetch(url, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json; charset=utf-8'\n        },\n        body: JSON.stringify({\n          userId,\n          userPwLogin\n        })\n      });\n      const data = await response.json(); // console.log(data);  // data: {id: 83, name: '생쥐1', age: 0, gender: 'woman', email: 'sj1@gmail.com', …}\n      // console.log(typeof data === 'object');   // true\n\n      if (typeof data === 'object') {\n        alert(\"정상적으로 로그인 되었습니다.\"); // loggedIn.current = !loggedIn.current;\n        // console.log(loggedIn.current);\n        // 마이페이지 보여주기 !!!\n\n        userLoggedIn = !userLoggedIn;\n        console.log(userLoggedIn);\n      }\n    } catch (error) {\n      console.log(\"POST request XXXXXX!! - LoginSignup.js \");\n    }\n  }; // reference:  https://www.youtube.com/watch?v=OUP-urBy1k4\n  // useNavigate \n\n\n  let navigate = useNavigate();\n\n  const moveToMyPage = () => {\n    navigate(\"/my-page\");\n  }; // reference: https://velog.io/@soryeongk/ReactRouterDomV6\n\n\n  return /*#__PURE__*/_jsxDEV(UserLoggedInContextStore.Consumer, {\n    children: userLoggedIn !== false ? console.log(userLoggedIn) : console.log(userLoggedIn)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 7\n  }, this);\n}\n\n_s(LogInSection, \"YESpfDNH3Wmo50NTDOgDNAN2xxw=\", false, function () {\n  return [useNavigate];\n});\n\n_c = LogInSection;\nexport default LogInSection;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogInSection\");","map":{"version":3,"sources":["/Users/dayepark/Documents/dev/for_your_skin_type/src/components/LogInSection.js"],"names":["React","useState","useContext","useNavigate","MyPage","UserLoggedInContextStore","LogInSection","userLoggedIn","userId","setUserId","userPwLogin","setUserPwLogin","url","submitToLogIn","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","alert","console","log","error","navigate","moveToMyPage"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,QAA2C,OAA3C,C,CACA;AACA;;AACA,SAASC,WAAT,QAA4B,kBAA5B,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,sBAAnB,C,CAEA;;AACA,OAAO,iCAAP,C,CAEA;;AACA,SAASC,wBAAT,QAAyC,QAAzC;;;AAGA,SAASC,YAAT,GAAyB;AAAA;;AACvB;AACA,QAAMC,YAAY,GAAGL,UAAU,CAACG,wBAAD,CAA/B,CAFuB,CAGvB;AAGA;AACA;AAEE;;AACA,QAAM,CAACG,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACS,WAAD,EAAcC,cAAd,IAAgCV,QAAQ,CAAC,EAAD,CAA9C;AAEA,QAAMW,GAAG,GAAG,6BAAZ;;AAEA,QAAMC,aAAa,GAAG,MAAOC,CAAP,IAAa;AACjCA,IAAAA,CAAC,CAACC,cAAF;;AAEA,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACL,GAAD,EAAM;AAChCM,QAAAA,MAAM,EAAE,MADwB;AAEhCC,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT,SAFuB;AAKhCC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnBd,UAAAA,MADmB;AAEnBE,UAAAA;AAFmB,SAAf;AAL0B,OAAN,CAA5B;AAWA,YAAMa,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAAnB,CAZE,CAaF;AACA;;AAEA,UAAI,OAAOD,IAAP,KAAgB,QAApB,EAA8B;AAC5BE,QAAAA,KAAK,CAAC,kBAAD,CAAL,CAD4B,CAE5B;AACA;AAEA;;AAEAlB,QAAAA,YAAY,GAAG,CAACA,YAAhB;AACAmB,QAAAA,OAAO,CAACC,GAAR,CAAYpB,YAAZ;AACD;AAGF,KA5BD,CA4BE,OAAOqB,KAAP,EAAc;AACdF,MAAAA,OAAO,CAACC,GAAR,CAAY,yCAAZ;AACD;AACF,GAlCD,CAfqB,CAiDjB;AAKJ;;;AACA,MAAIE,QAAQ,GAAG1B,WAAW,EAA1B;;AAEA,QAAM2B,YAAY,GAAG,MAAM;AACzBD,IAAAA,QAAQ,CAAC,UAAD,CAAR;AACD,GAFD,CAzDqB,CA2DnB;;;AAGF,sBACE,QAAC,wBAAD,CAA0B,QAA1B;AAAA,cAEKtB,YAAY,KAAK,KAAlB,GAA2BmB,OAAO,CAACC,GAAR,CAAYpB,YAAZ,CAA3B,GAAuDmB,OAAO,CAACC,GAAR,CAAYpB,YAAZ;AAF3D;AAAA;AAAA;AAAA;AAAA,UADF;AAOH;;GArEQD,Y;UAuDUH,W;;;KAvDVG,Y;AAuET,eAAeA,YAAf","sourcesContent":["import React,{ useState, useContext } from \"react\";\n// import React,{ useState, useRef, useContext } from \"react\";\n// import React,{ useState, useRef } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\n// components\nimport MyPage from \"../components/MyPage\";\n\n// styling \nimport \"../styles/src/LogInSection.scss\";\n\n// Context API \nimport { UserLoggedInContextStore } from \"../App\";\n\n\nfunction LogInSection () {\n  // Context API \n  const userLoggedIn = useContext(UserLoggedInContextStore); \n  // console.log(userLoggedIn);  // false \n\n\n  // let loggedIn = useRef(false);\n  // console.log(loggedIn.current);  // false\n\n    // 로그인 로직\n    const [userId, setUserId] = useState(\"\");\n    const [userPwLogin, setUserPwLogin] = useState(\"\");\n    \n    const url = 'http://localhost:9090/login';\n  \n    const submitToLogIn = async (e) => {\n      e.preventDefault();\n\n      try {\n        const response = await fetch(url, {\n          method: 'POST', \n          headers: {\n            'Content-Type': 'application/json; charset=utf-8'\n          },\n          body: JSON.stringify({\n            userId, \n            userPwLogin\n          })\n        });\n        \n        const data = await response.json(); \n        // console.log(data);  // data: {id: 83, name: '생쥐1', age: 0, gender: 'woman', email: 'sj1@gmail.com', …}\n        // console.log(typeof data === 'object');   // true\n\n        if (typeof data === 'object') {\n          alert(\"정상적으로 로그인 되었습니다.\");\n          // loggedIn.current = !loggedIn.current;\n          // console.log(loggedIn.current);\n\n          // 마이페이지 보여주기 !!!\n\n          userLoggedIn = !userLoggedIn;\n          console.log(userLoggedIn);\n        }\n\n\n      } catch (error) {\n        console.log(\"POST request XXXXXX!! - LoginSignup.js \");\n      } \n    };  // reference:  https://www.youtube.com/watch?v=OUP-urBy1k4\n    \n\n\n\n    // useNavigate \n    let navigate = useNavigate();\n\n    const moveToMyPage = () => {\n      navigate(\"/my-page\");\n    };// reference: https://velog.io/@soryeongk/ReactRouterDomV6\n\n    \n    return (\n      <UserLoggedInContextStore.Consumer>\n      {\n          (userLoggedIn !== false) ? console.log(userLoggedIn) : console.log(userLoggedIn) \n      }\n    </UserLoggedInContextStore.Consumer>\n  )\n}\n\nexport default LogInSection;"]},"metadata":{},"sourceType":"module"}